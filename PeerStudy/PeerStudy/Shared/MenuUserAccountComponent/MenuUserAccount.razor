@using PeerStudy.Services.Interfaces

<div class="dropdown show">
    <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <img src="/images/user.png" />
    </a>

    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
        <a class="dropdown-item user" href="/">
            @if (string.IsNullOrWhiteSpace(CurrentUserProfileImageName))
            {
                <div class="no-profile-photo">
                    <span>
                        @CurrentUserName?.ToUpper().First()
                    </span>
                </div>
            }
            else
            {
                <img class="user-profile-image" src=@($"/profile-photos/{CurrentUserProfileImageName}") />
            }
            <span class="username">
                @CurrentUserName
            </span>
        </a>
        <a class="dropdown-item action-button" href="/change-password">Change password</a>
        <a class="dropdown-item action-button" href="/logout">Log out</a>
    </div>
</div>

@code {
    [Parameter]
    public string CurrentUserName { get; set; }

    [Parameter]
    public string CurrentUserProfileImageName { get; set; }
}