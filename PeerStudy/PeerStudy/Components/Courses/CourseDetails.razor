@page "/{teacherId:guid}/courses/{courseId:guid}"
@page "/{studentId:guid}/my-courses/{courseId:guid}"
@attribute [Authorize]


<AuthorizeView Roles="Teacher">
    <div>
        <MatButton OnClick="ToggleShowCreateMenu">
            <img src="/images/icons8-plus.svg" />
        </MatButton>

        @if (showCreateMenu)
        {
            <div class="create-menu">
                <MatButton Style="display: block;" OnClick="@(() => showUploadFileDialog = true)">Upload file(s)</MatButton>
                <MatButton Style="display: block; width:130px;">Create study groups</MatButton>
            </div>
        }
    </div>

    <MatDialog @bind-IsOpen="@showUploadFileDialog">
        <MatDialogTitle>Upload file(s)</MatDialogTitle>
        <MatDialogContent>
            <div>
                <PeerStudyFileUpload Style="@uploadFileControlStyles"
                                     OnChange="@GetUploadedFiles"
                                     Label="Choose files"
                                     AllowMultiple=true>
                </PeerStudyFileUpload>
            </div>
        </MatDialogContent>
        <MatDialogActions>
            <MatButton OnClick="@UploadFiles" Raised=true Disabled=@(!IsUploadFileButtonEnabled())>Upload</MatButton>
            <MatButton OnClick="@CloseUploadFileDialog">Cancel</MatButton>
        </MatDialogActions>
    </MatDialog>

    <Alert Color="@alertColor" @bind-Visible="showUploadFilesMessage">
        <AlertDescription>@uploadFilesMessage</AlertDescription>
    </Alert>

</AuthorizeView>
